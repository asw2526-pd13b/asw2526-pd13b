<div style="max-width: 600px; margin: 0 auto;">
  <h1 style="margin-bottom: 20px;">Editar perfil</h1>

  <%= form_with(model: @user, local: true) do |form| %>
    <% if @user.errors.any? %>
      <div style="background: #fee; border: 1px solid #fcc; padding: 15px; border-radius: 4px; margin-bottom: 20px;">
        <h2 style="margin: 0 0 10px 0; color: #c00;">
          <%= pluralize(@user.errors.count, "error") %> han impedit desar el perfil:
        </h2>
        <ul style="margin: 0; padding-left: 20px;">
          <% @user.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div style="background: white; border: 1px solid #ddd; border-radius: 8px; padding: 20px;">
      <!-- Username (no editable) -->
      <div style="margin-bottom: 20px;">
        <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #666;">
          Username
        </label>
        <input type="text" value="<%= @user.username %>" disabled
               style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; background: #f5f5f5; color: #666;">
        <small style="color: #666;">El username no es pot canviar (ve de GitHub)</small>
      </div>

      <!-- Display Name -->
      <div style="margin-bottom: 20px;">
        <%= form.label :display_name, "Nom de visualització",
            style: "display: block; font-weight: bold; margin-bottom: 5px;" %>
        <%= form.text_field :display_name,
            style: "width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;",
            placeholder: "El teu nom complet o àlies" %>
      </div>

      <!-- Bio -->
      <div style="margin-bottom: 20px;">
        <%= form.label :bio, "Biografia",
            style: "display: block; font-weight: bold; margin-bottom: 5px;" %>
        <%= form.text_area :bio,
            style: "width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; min-height: 100px; resize: vertical;",
            placeholder: "Explica una mica sobre tu...",
            maxlength: 500 %>
        <small style="color: #666;">Màxim 500 caràcters</small>
      </div>

      <!-- Banner URL -->
      <div style="margin-bottom: 20px;">
        <%= form.label :banner_url, "URL del banner",
            style: "display: block; font-weight: bold; margin-bottom: 5px;" %>
        <%= form.url_field :banner_url,
            style: "width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;",
            placeholder: "https://exemple.com/imatge.jpg" %>
        <small style="color: #666;">URL d'una imatge per al banner del perfil (recomanat: 900x200px)</small>
      </div>

      <!-- Avatar (no editable - ve de GitHub) -->
      <div style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 4px;">
        <strong style="display: block; margin-bottom: 10px;">Avatar actual:</strong>
        <% if @user.avatar_url.present? %>
          <img src="<%= @user.avatar_url %>"
               style="width: 80px; height: 80px; border-radius: 50%;"
               alt="Avatar">
          <p style="margin: 10px 0 0 0; color: #666; font-size: 14px;">
            L'avatar ve del teu perfil de GitHub i no es pot canviar aquí.
          </p>
        <% end %>
      </div>

      <!-- Botons -->
      <div style="display: flex; gap: 10px; margin-top: 20px;">
        <%= form.submit "Desar canvis",
            style: "padding: 10px 20px; background: #0079d3; color: white; border: none; border-radius: 20px; font-weight: bold; cursor: pointer;" %>
        <%= link_to "Cancel·lar", user_path(@user),
            style: "padding: 10px 20px; background: #f5f5f5; color: #333; text-decoration: none; border-radius: 20px; font-weight: bold; display: inline-block;" %>
      </div>
    </div>
  <% end %>
</div>